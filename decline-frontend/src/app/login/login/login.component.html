<div class="min-h-screen bg-gray-100 flex items-center justify-center">
  <div *ngIf="isLoggedIn$ | async; else loginFormSection" class="bg-white p-8 rounded-lg w-full max-w-md">
    <button (click)="handleLogout()" class="bg-red-500 hover:bg-red-700 text-white p-2 rounded mt-4">
      Logout
    </button>
  </div>
  <ng-template #loginFormSection>
    <div class="bg-white p-8 rounded-lg w-full max-w-md">
      <h1 class="text-2xl mb-4 text-center">Login</h1>
      <p class="mb-6 text-center">
        Don't have an account? <a [routerLink]="['/register']" class="text-teal-500">Register</a>
      </p>
      <form [formGroup]="loginForm" (ngSubmit)="login()" class="flex flex-col gap-4">
        <div *ngIf="errorMessage" class="text-red-500">{{ errorMessage }}</div>
        
        <!-- Username field -->
        <label for="username">Username</label>
        <input id="username" type="text" formControlName="userName" 
               [ngClass]="{'border-red-500': loginForm.get('userName')?.invalid && loginForm.get('userName')?.touched}">
        <div *ngIf="loginForm.get('userName')?.invalid && loginForm.get('userName')?.touched" class="text-red-500">
          Username is required.
        </div>
        
        <!-- Password field -->
        <label for="password">Password</label>
        <input id="password" type="password" formControlName="password" 
               [ngClass]="{'border-red-500': loginForm.get('password')?.invalid && loginForm.get('password')?.touched}">
        <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" class="text-red-500">
          Password is required.
        </div>
        
        <!-- Submit button -->
        <button type="submit" class="bg-teal-500 hover:bg-teal-700 text-white p-2 rounded mt-4" 
                [disabled]="loginForm.invalid">
          Login
        </button>
      </form>
    </div>
  </ng-template>
</div>
